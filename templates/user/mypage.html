<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ë§ˆì´í˜ì´ì§€ | A.P.T</title>

<!-- Pretendard(Font) -->
<link rel="stylesheet" th:href="@{/css/font.css}" />

<!-- Favicon -->
<link rel="icon" href="/icons/favicon.png" type="image/png">

<style>
* {
	box-sizing: border-box;
}

body {
	margin: 0;
	padding: 0;
	font-family: 'Pretendard', sans-serif;
	background-color: #FDFDFD;
	height: 100%;
	overflow: hidden;
}

.container {
	max-width: 1000px;
	margin: 50px auto;
	padding: 20px;
	display: flex;
	gap: 40px;
}

.left-card {
	background: white;
	border-radius: 20px;
	padding: 40px;
	width: 50%;
	box-shadow: 4px 4px 16px rgba(0, 0, 0, 0.1);
	text-align: center;
}

.left-card img {
	width: 140px;
	height: 140px;
	margin-bottom: 20px;
}

.left-card hr {
	border: none; /* ê¸°ë³¸ hr í…Œë‘ë¦¬ ì œê±° */
	border-top: 1px solid #D0D0D0; /* ìƒë‹¨ í…Œë‘ë¦¬ 3px ë‘ê»˜, ë‹¨ìƒ‰, íšŒìƒ‰ìœ¼ë¡œ ì„¤ì • */
}

.nickname {
	font-size: 24px;
	font-weight: 800;
	margin-bottom: 20px;
	margin-top: 20px;
	color: #292929;
}

.section-title {
	font-weight: 800;
	margin-top: 20px;
	margin-bottom: 10px;
	font-size: 24px;
	text-align: left;
	color: #292929;
}
/* ì•„íŒŒíŠ¸ ì¸ì¦ í›„ */
.authenticated-apt-info {
	font-size: 20px; /* ë¯¸ì¸ì¦ í…ìŠ¤íŠ¸ë³´ë‹¤ ì‚´ì§ ì‘ê²Œ */
	color: #292929; /* ë¯¸ì¸ì¦ í…ìŠ¤íŠ¸ë³´ë‹¤ ì§„í•˜ê²Œ */
	text-align: left;
	margin-left: 20px;
	font-weight: 600;
	line-height: 1.4; /* ì¤„ ê°„ê²© ì¡°ì ˆ */
}

.info-text {
	font-size: 24px;
	color: #919191;
	/* margin-bottom: 5px; ì œê±° (Flexbox ë¶€ëª¨ì—ì„œ ê°„ê²© ì¡°ì ˆ) */
	text-align: left;
	/* display: inline; ì œê±° (ì´ì œ div ì•ˆì— ìˆìœ¼ë¯€ë¡œ í•„ìš” ì—†ìŒ) */
	font-weight: 600;
	margin-left: 20px;
}

/* ìƒˆë¡œ ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
.subscription-item {
	display: flex; /* Flexbox í™œì„±í™” */
	justify-content: space-between; /* ì–‘ìª½ ëìœ¼ë¡œ ì •ë ¬ */
	align-items: baseline; /* í…ìŠ¤íŠ¸ ë² ì´ìŠ¤ë¼ì¸ì— ë§ì¶¤ */
	margin-bottom: 5px; /* í•­ëª© ê°„ ê°„ê²© ì¡°ì ˆ */
}

.status-text {
	font-size: 24px;
	color: #919191;
	font-weight: 600;
}

.subscribe_date {
	font-size: 18px;
	color: #919191;
	margin: 0px;
	text-align: right;
}

.right-menu {
	width: 50%;
	display: flex;
	flex-direction: column;
	gap: 20px;
}

.right-menu a img {
	width: 500px;
	height: auto;
	transition: transform 0.3s ease-in-out;
}

.right-menu a img:hover {
	transform: translateY(-5px);
}

.menu-box {
	display: flex;
	justify-content: space-between;
	align-items: center;
	background: white;
	padding: 20px;
	border-radius: 15px;
	box-shadow: 4px 4px 16px rgba(0, 0, 0, 0.1);
	font-size: 16px;
	font-weight: 600;
	cursor: pointer;
}

.menu-box img {
	width: 48px;
	height: 48px;
}

.out-btn {
	align-self: flex-end;
	padding: 10px 20px;
	font-size: 14px;
	font-weight: 400;
	border: none;
	border-radius: 10px;
	background-color: white;
	box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
	cursor: pointer;
	margin-top: 30px;
}

.logo {
	padding: 20px;
	font-size: 24px;
	font-weight: 800;
	color: #4281FF;
}

a {
	text-decoration: none; /* ë§í¬ì˜ ë°‘ì¤„ ì œê±° */
}
</style>
</head>

<body>
	<a th:href="@{/}"><div class="logo">A.P.T</div></a>
	<div class="container">
		<div class="left-card">
			<img src="/icons/profile.png" alt="profile" />
			<div class="nickname">
				<span class="personal" th:text="${session.loginUser.nickname}">ë‹‰ë„¤ì„</span>
				ë‹˜
			</div>

			<hr>

			<div class="section-title">ì•„íŒŒíŠ¸ ì¸ì¦ í˜„í™©</div>
			<div th:if="${session.loginUser.kaptCode == null}" class="info-text"
				id="house-auth">ë¯¸ì¸ì¦</div>
			<div th:if="${session.loginUser.kaptCode != null}"
				class="authenticated-apt-info">
				<span th:text="${session.loginUser.kaptName}"></span> <br> <span
					th:text="${session.loginUser.userBlock}"></span> <span
					th:text="${session.loginUser.userFloor}"></span>ì¸µ
			</div>

			<div class="section-title">A.P.Tí•‘ êµ¬ë… ìƒíƒœ</div>

			<div class="subscription-item">
			    <div class="info-text">ë™ë„¤ ì•Œë¦¼</div>
			    <div class="status-text" 
			         th:style="${communitySubscribed} ? 'color: #4281FF; font-weight: 700;' : 'color: #919191; font-weight: 600;'"
			         th:text="${communitySubscribed} ? 'êµ¬ë… ì™„ë£Œ' : 'ë¯¸êµ¬ë…'">êµ¬ë… ì™„ë£Œ</div>
			</div>
			<div th:if="${communitySubscribed and communitySubscribeDate != null}" class="subscribe_date">
			    (<span th:text="${#dates.format(communitySubscribeDate, 'yyyyë…„ Mì›” dì¼')}">2025ë…„ 6ì›” 16ì¼</span>)
			</div>
			<!-- <div class="subscription-item">
				<div class="info-text">í™˜ê¸° ì•Œë¦¼</div>
				<div class="status-text subscribe_vent">ë¯¸êµ¬ë…</div>
			</div> -->
		</div>

		<div class="right-menu">
			<a th:href="@{/myAptAuth}"><img src="/cards/ì•„íŒŒíŠ¸ì¸ì¦ë²„íŠ¼.png" alt="ì¸ì¦" /></a>
			<a th:href="@{/myEdit}"><img src="/cards/ê°œì¸ì •ë³´ìˆ˜ì •ë²„íŠ¼.png" alt="ìˆ˜ì •" /></a> 
			<a th:href="@{/communutyPingMain}"><img src="/cards/êµ¬ë…ì„¤ì •ë²„íŠ¼.png" alt="êµ¬ë…" /></a>
			<button class="out-btn" onclick="confirmDeleteAccount()">íƒˆí‡´í•˜ê¸°</button>
		</div>
	</div>

	<!-- Footer ì‹œì‘ -->
	<footer
		style="position: absolute; background-color: #f2f2f2; bottom: 0px; padding: 15px 0; text-align: center; font-size: 14px; color: #666; width: 100%;">
		<div>
			<p style="margin: 0;">Â© 2025 A.P.T. All rights reserved.</p>
			<p style="margin: 5px 0 0;">
				Made with <span class="computer-icon">ğŸ’»</span> by íŒ€ EF
			</p>
		</div>
	</footer>
	<!-- Footer ë -->
</body>
<script>
		    function confirmDeleteAccount() {
		        // íŒì—… ì°½ ë„ìš°ê¸°
		        if (confirm("ì •ë§ íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
		            // ì˜ˆ ë²„íŠ¼ í´ë¦­ ì‹œ ê³„ì • ì‚­ì œ ìš”ì²­ ë³´ë‚´ê¸°
		            window.location.href = "/deleteAccount";  // ì‚­ì œ ìš”ì²­ ê²½ë¡œ
		        }
		    }
		</script>
</html>